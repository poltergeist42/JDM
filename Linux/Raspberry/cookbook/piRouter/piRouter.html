<!DOCTYPE html>
<html class="no-js" lang="fr">
<head>
    <meta charset="utf-8" />
        <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="docsearch:name" content="Journal de Manip" />
    <meta name="docsearch:package_type" content="" />
    <meta name="docsearch:release" content="20170523" />
    <meta name="docsearch:version" content="20170523" />
    
        <title>Raspberry Pi as a router &mdash; Journal de Manip</title>
    
    <link rel="stylesheet" type="text/css" href="../../../../_static/dist/fontawesome.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/dist/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/graphviz.css" />
            <link rel="index" title="Index" href="../../../../genindex.html" />
            <link rel="search" title="Recherche" href="../../../../search.html" />
            <link rel="top" title="Journal de Manip" href="#" />
            <link rel="up" title="Raspberry" href="../../Raspberry.html" />
            <link rel="next" title="Bug, Maintenance et traitemant des Erreurs" href="../../../bugError/bugError.html" />
            <link rel="prev" title="Raspberry" href="../../Raspberry.html" />
    </head>
<body>
    <header class="container-fluid bg-primary">
        <div class="container-fluid">
            <div class="navbar navbar-expand-lg navbar-dark font-weight-bold">
                    <a href="../../../../index.html"
                        title="logoGrenouilleTech"
                        class="logo navbar-brand"
                    >
                        <img src="../../../../_static/img/ColorLogoOpenHardware-noBackground.svg" width="500" height="400" alt="logoGrenouilleTech"
                            class="logo-img"
                        />
                        Journal de Manip
                    </a>
                
                
                <button class="navbar-toggler btn btn-primary d-lg-none" type="button" data-toggle="collapse" data-target="#collapseSidebar" aria-expanded="false" aria-controls="collapseExample">
                    <span class="navbar-toggler-icon"></span>
                    <span class="sr-only">Menu</span>
                </button>
            </div>
        </div>
    </header>
    <div class="container-fluid">
        <div class="row">
            <aside class="col-12 col-lg-3 sidebar-container">
                <div id="collapseSidebar" class="collapse sticky-top d-lg-block pt-5 pr-lg-4">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Recherche rapide</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><div class="site-toc">
    <nav class="toc mt-3" aria-label="Main menu">
        <p class="caption" role="heading"><span class="caption-text">Sommaire:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../readme.html">infos générales Journal de manip</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../readme.html#description">Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Composants/Composants.html">Composants</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../Composants/Accelerometre/Accelerometre.html">Accéléromètre</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../Composants/Accelerometre/mpu6050/mpu6050.html">mpu6050</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Composants/Magnetometre/Magnetometre.html">Magnétomètres</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../Composants/Magnetometre/HMC5883L/HMC5883L.html">Magnetomettre : HMC5883L</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Composants/stepMotor/stepMotor.html">Moteurs Pas à Pas et Drivers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../Composants/stepMotor/28BYJ-48/28BYJ-48.html">28BYJ-48</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ComputerVision.html">Computer Vision</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Cookbook.html">Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Culture_Gen.html">Culture Générale / Connaissances insolites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../DataBase/DataBase.html">DataBase</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../DataBase/PostGreSQL/PostGreSQL.html">PostGreSQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../DataBase/Redis/Redis.html">Redis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Dev_Gest_Prjet/Dev_Gest_Prjet.html">Développement, Gestion  et Commercialisation de projet</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../Dev_Gest_Prjet/DevProject/DevProject.html">Dévellopement de projet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Dev_Gest_Prjet/Merise/Merise.html">MERISE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Dev_Gest_Prjet/Agile/Agile.html">La méthode Agile</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Dev_Gest_Prjet/Commercialisation/Commercialisation.html">Commercialisation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Diagrams.html">Diagrams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Docker.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../DocAutomatique/DocAutomatique.html">Documentation_Automatique</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../ESP.html">ESP8266 &amp; ESP32</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Freecad.html">Freecad</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../GIT/GIT.html">Git (versioning)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../GIT/Bitbucket/Bitbucket.html">Bitbucket</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Golang/Golang.html">Golang</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../Golang/GetStarted/GetStarted.html">Get Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Golang/Syntax/Syntax.html">Détails syntaxiques</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Golang/goroutine/goroutine.html">Keyword</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Golang/vocabGlossary/vocabGlossary.html">Vocabulaire et Glossaire</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Golang/codeSinppets/codeSinppets.html">Code Sinppets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../Golang/codeSinppets/parsingJson/parsingJson.html">Parsing Json</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../Golang/codeSinppets/sliceCompare/sliceCompare.html">Slice comparation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../HPVC.html">HPVC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../IDE_TextEditor/IDE_TextEditor.html">IDE &amp; Text Editor</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../IDE_TextEditor/Latex/Latex.html">LaTex</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../IDE_TextEditor/VIM/VIM.html">VIM (VI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../IDE_TextEditor/visualStudioCode/visualStudioCode.html">Visual Studio Code</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Informatique/Informatique.html">Informatique</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../Informatique/SysAdmin/SysAdmin.html">Sysadmin</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../kicad.html">Kicad</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../Linux.html">LINUX</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../shell/shell.html">SHELL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../multiscreen/multiscreen.html">Multi-Screen terminal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../scripting/scripting.html">Scripting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../UsersGroupsACL/UsersGroupsACL.html">Utilisateurs, Groupes et Permissions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../sysAdmin/sysAdmin.html">Administration Système</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../sysAdmin/conky/conky.html">Conky</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../network/network.html">network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../sharedFolders/sharedFolders.html">Dossiers partager et volumes distants</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../hardwareMgnt/hardwareMgnt.html">Hardware Management</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../Raspberry.html">Raspberry</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Raspberry Pi as a router</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../bugError/bugError.html">Bug, Maintenance et traitemant des Erreurs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../MAC_OS.html">MAC OS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Machine_learning.html">Machine Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../MQTT.html">MQTT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Musique/Musique.html">Musique</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../Musique/theorie/theorie.html">Théorie musicale</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Musique/MAO/MAO.html">Musique Assistée (par) Ordinateur - MAO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Musique/guitare/guitare.html">Guitare</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Musique/GuitareChant/GuitareChant.html">GuitareChant</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Optimisation_Travail.html">Optimisation du travail (et de l’apprentissage)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Powershell/Powershell.html">PowerShell</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../Powershell/codeSinppets/codeSinppets.html">Code Sinppets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../Powershell/codeSinppets/Toolbox/Toolbox.html">PowerShell Toolbox</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Python.html">PYTHON</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Regex.html">Regex</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Reseau.html">Reseau</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Soudure.html">Soudure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Techno_WEB/Techno_WEB.html">Technos Web</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../Techno_WEB/HTML_CSS/HTML_CSS.html">HTML_CSS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Techno_WEB/Javascript/Javascript.html">JavaScript</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Techno_WEB/React_and_legacy/React_and_legacy.html">React &amp; Legacy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../Techno_WEB/React_and_legacy/JSX/JSX.html">JSX (JavaScript eXtended)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../Techno_WEB/React_and_legacy/React/React.html">React</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../Techno_WEB/React_and_legacy/React/Components/Components.html">Composant</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../Techno_WEB/React_and_legacy/React/Components/Fragment/Fragment.html">Fragment</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../Techno_WEB/React_and_legacy/React/Components/Navbar/Navbar.html">Navbar</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Techno_WEB/React_and_legacy/React/Props/Props.html">Props (Short for « Properties »)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Techno_WEB/React_and_legacy/React/States/States.html">States</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Techno_WEB/React_and_legacy/React/Hooks/Hooks.html">Weblinks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Techno_WEB/React_and_legacy/React/Librairies/Librairies.html">Librairies</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../Techno_WEB/React_and_legacy/React/Librairies/ReactRouterDOM/ReactRouterDOM.html">React-Router-DOM</a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../../../Techno_WEB/React_and_legacy/React/Librairies/ReactRouterDOM/RedirectionForm2URI/RedirectionForm2URI.html">Redirection vers une Page React depuis un formulaire</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../../Techno_WEB/React_and_legacy/React/BugFix/BugFix.html">Bug &amp; Fix</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../Techno_WEB/React_and_legacy/Native/Native.html">React Native</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Techno_WEB/Node_Express/Node_Express.html">Node &amp; Express</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Techno_WEB/webCreation/webCreation.html">Création de Site Web</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Trading.html">Trading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../URLtheque.html">URLtheque</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../XML_JSON.html">XML_JSON</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../arborescence/arborescence.html">Arborescence du projet</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../deprecated/deprecated.html">Eléments dépréciés</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../deprecated/Aquariophilie/Aquariophilie.html">Aquariophilie</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../deprecated/Django/Django.html">Django 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../deprecated/English_vocab/English_vocab.html">English Vocabulary</a></li>
</ul>
</li>
</ul>

    </nav>
    <template data-toggle-item-template>
        <button class="btn btn-sm btn-link toctree-expand" type="button">
            <span class="sr-only">Toggle menu contents</span>
        </button>
    </template>
</div>
                    <div class="d-lg-none border-bottom">
                        
                    </div>
                </div>
            </aside>
            <div class="col-12 col-lg-9 pt-5">
                <header class="row align-items-baseline">
                    <div class="col">
                        <nav aria-label="breadcrumb">
    <ol class="breadcrumb m-0 p-0 bg-transparent">
        <li class="breadcrumb-item"><a href="../../../../index.html">Docs</a></li>
            <li class="breadcrumb-item"><a href="../../../Linux.html">LINUX</a></li>
            <li class="breadcrumb-item"><a href="../../Raspberry.html">Raspberry</a></li>
        <li class="breadcrumb-item active" aria-current="page">Raspberry Pi as a router</li>
    </ol>
</nav>
                    </div>
                    <div class="col-sm-12 col-lg-auto mt-3 mt-lg-3">
                        <noscript>
                            <p>JavaScript is required to toggle light/dark mode..</p>
                        </noscript>
                        <button id="ahd-theme" class="btn btn-sm btn-light text-decoration-none" type="button">
                            <span class="dark-only"><i class="fas fa-sun"></i> Light mode</span>
                            <span class="light-only"><i class="fas fa-moon"></i> Dark mode</span>
                        </button>
    <a class="btn btn-sm btn-light text-decoration-none" href="https://github.com/ahdcreative/sphinx_ahd_theme/blob/main/docs/Linux/Raspberry/cookbook/piRouter/piRouter.rst" rel="nofollow">
        <span class="btn-icon"><span class="fab fa-github"></span></span>
        <span class="btn-text">Edit on GitHub</span>
    </a>
    <a class="btn btn-sm btn-light text-decoration-none" href="../../../../_sources/Linux/Raspberry/cookbook/piRouter/piRouter.rst.txt" rel="nofollow">
        <span class="btn-icon"><span class="fas fa-code"></span></span>
        <span class="btn-text">View source</span>
    </a>
                        
                    </div>
                </header>
                <div class="row" >
                    <div class="col-12">
                        <hr class="w-100 my-4">
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-lg-9 order-last order-lg-first rst-content">
                        <main role="main">
<section id="raspberry-pi-as-a-router">
<h1><a class="toc-backref" href="#sommaire" role="doc-backlink">Raspberry Pi as a router</a><a class="headerlink" href="#raspberry-pi-as-a-router" title="Lien permanent vers cette rubrique">¶</a></h1>
<nav class="contents" id="sommaire">
<p class="topic-title">Sommaire</p>
<ul class="simple">
<li><p><a class="reference internal" href="#raspberry-pi-as-a-router" id="id11">Raspberry Pi as a router</a></p>
<ul>
<li><p><a class="reference internal" href="#objectif" id="id12">Objectif</a></p>
<ul>
<li><p><a class="reference internal" href="#schema" id="id13">Schéma</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#configuration-des-points-d-acces-wifi" id="id14">Configuration des points d’accès wifi</a></p>
<ul>
<li><p><a class="reference internal" href="#configuration-a-l-aide-de-l-outil-raspi-config" id="id15">Configuration à l’aide de l’outil <strong>« Raspi-config »</strong></a></p></li>
<li><p><a class="reference internal" href="#configuration-manuelle" id="id16">Configuration manuelle</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#routeur" id="id17">Routeur</a></p>
<ul>
<li><p><a class="reference internal" href="#configuration-d-une-ip-statique-sur-eth0" id="id18">Configuration d’une IP statique sur eth0</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#serveur-dhcp" id="id19">Serveur DHCP</a></p></li>
<li><p><a class="reference internal" href="#webmin" id="id20">Webmin</a></p></li>
<li><p><a class="reference internal" href="#serveur-d-impression" id="id21">Serveur d’impression</a></p></li>
<li><p><a class="reference internal" href="#weblinks" id="id22">Weblinks</a></p></li>
</ul>
</li>
</ul>
</nav>
<hr class="docutils" />
<section id="objectif">
<h2><a class="toc-backref" href="#sommaire" role="doc-backlink">Objectif</a><a class="headerlink" href="#objectif" title="Lien permanent vers cette rubrique">¶</a></h2>
<p>L’objectif est de transformer le Raspberry Pi en router. La carte wifi doit se connecter à un point
d’accès mobile tel q’un téléphone ou un router 4G / 5G. Le trafic est ensuite routé vers la carte
Ethernet.</p>
<p>Un serveur DHCP est également configuré sur la carte Ethernet.</p>
<section id="schema">
<h3><a class="toc-backref" href="#sommaire" role="doc-backlink">Schéma</a><a class="headerlink" href="#schema" title="Lien permanent vers cette rubrique">¶</a></h3>
<blockquote>
<div><a class="reference internal image-reference" href="../../../../_images/schema.svg"><img alt="../../../../_images/schema.svg" class="align-center" src="../../../../_images/schema.svg" width="520px" /></a>
</div></blockquote>
</section>
</section>
<hr class="docutils" />
<section id="configuration-des-points-d-acces-wifi">
<h2><a class="toc-backref" href="#sommaire" role="doc-backlink">Configuration des points d’accès wifi</a><a class="headerlink" href="#configuration-des-points-d-acces-wifi" title="Lien permanent vers cette rubrique">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Liens_Web<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://pimylifeup.com/setting-up-raspberry-pi-wifi/">Setting up Raspberry Pi Wi-Fi</a> <a class="footnote-reference brackets" href="#id1" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Avertissement</p>
<p>Attention, il est important de respecter la casse du SSID (majuscule / minuscule). De plus,
un SSID ne peux pas contenir d’espace.</p>
</div>
<p>L’ajout de SSID peut s’effectuer de 2 façons diférentes.</p>
<section id="configuration-a-l-aide-de-l-outil-raspi-config">
<h3><a class="toc-backref" href="#sommaire" role="doc-backlink">Configuration à l’aide de l’outil <strong>« Raspi-config »</strong></a><a class="headerlink" href="#configuration-a-l-aide-de-l-outil-raspi-config" title="Lien permanent vers cette rubrique">¶</a></h3>
<blockquote>
<div><p>Naviguer dans les menus pour configurer le SSID du wifi</p>
<blockquote>
<div><ol class="arabic">
<li><div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>raspi-config
</pre></div>
</div>
</li>
<li><a class="reference internal image-reference" href="../../../../_images/raspiConf1.png"><img alt="../../../../_images/raspiConf1.png" class="align-center" src="../../../../_images/raspiConf1.png" style="width: 520px;" /></a>
</li>
<li><a class="reference internal image-reference" href="../../../../_images/raspiConf2.png"><img alt="../../../../_images/raspiConf2.png" class="align-center" src="../../../../_images/raspiConf2.png" style="width: 520px;" /></a>
</li>
<li><a class="reference internal image-reference" href="../../../../_images/raspiConf3.png"><img alt="../../../../_images/raspiConf3.png" class="align-center" src="../../../../_images/raspiConf3.png" style="width: 520px;" /></a>
</li>
<li><a class="reference internal image-reference" href="../../../../_images/raspiConf4.png"><img alt="../../../../_images/raspiConf4.png" class="align-center" src="../../../../_images/raspiConf4.png" style="width: 520px;" /></a>
</li>
</ol>
</div></blockquote>
</div></blockquote>
</section>
<section id="configuration-manuelle">
<h3><a class="toc-backref" href="#sommaire" role="doc-backlink">Configuration manuelle</a><a class="headerlink" href="#configuration-manuelle" title="Lien permanent vers cette rubrique">¶</a></h3>
<p>Il est possible de configurer les point d’accès directement depuis le fichier de configuration.</p>
<blockquote>
<div><ol class="arabic">
<li><dl>
<dt>Editer le fichier « wpa_supplcant »</dt><dd><div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>/etc/wpa_supplicant/
sudo<span class="w"> </span>vi<span class="w"> </span>wpa_supplicant.conf
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>Ajouter les informations Wifi (SSID + Password) à la fin du fichier</dt><dd><div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nv">network</span><span class="o">={</span>
<span class="nv">ssid</span><span class="o">=</span><span class="s2">&quot;The SSID of your network (eg. Network name)&quot;</span>
<span class="nv">psk</span><span class="o">=</span><span class="s2">&quot;Your Wifi Password&quot;</span>
<span class="o">}</span>
</pre></div>
</div>
</dd>
</dl>
</li>
</ol>
</div></blockquote>
</section>
</section>
<hr class="docutils" />
<section id="routeur">
<h2><a class="toc-backref" href="#sommaire" role="doc-backlink">Routeur</a><a class="headerlink" href="#routeur" title="Lien permanent vers cette rubrique">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Liens_Web<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://forums.raspberrypi.com/viewtopic.php?t=247584">wlan0 to eth0 bridge</a> <a class="footnote-reference brackets" href="#id3" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a></p></li>
</ul>
</dd>
</dl>
<section id="configuration-d-une-ip-statique-sur-eth0">
<h3><a class="toc-backref" href="#sommaire" role="doc-backlink">Configuration d’une IP statique sur eth0</a><a class="headerlink" href="#configuration-d-une-ip-statique-sur-eth0" title="Lien permanent vers cette rubrique">¶</a></h3>
<blockquote>
<div><ol class="arabic">
<li><p>Editer le fichier dhcpcd.conf</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>vim<span class="w"> </span>/etc/dhcpcd.conf
</pre></div>
</div>
</li>
<li><p>Définir l’adresse IP fixe et les DNS</p>
<p>Ici, il n’est pas nécessaire de renseigner la passerelle car puisqu’il n’y en à qu’une (wlan0),
elle est utilisée par défault.</p>
<p>La définission des DNS est facultative. Par défault, les DNS sont fournis par l’ISP.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>interface<span class="w"> </span>eth0
static<span class="w"> </span><span class="nv">ip_address</span><span class="o">=</span><span class="m">192</span>.168.1.254/24
static<span class="w"> </span><span class="nv">domain_name_servers</span><span class="o">=</span><span class="m">1</span>.1.1.1<span class="w"> </span><span class="m">9</span>.9.9.9
</pre></div>
</div>
</li>
<li><p>Redémarrer le Pi</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>reboot
</pre></div>
</div>
</li>
<li><p>Editer le fichier de configuration du Kernel</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>/etc/sysctl.conf
</pre></div>
</div>
</li>
<li><p>Activer l’option router dans le Kernel</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># Uncomment the next line to enable packet forwarding for IPv4</span>
net.ipv4.ip_forward<span class="o">=</span><span class="m">1</span>
</pre></div>
</div>
</li>
<li><p>Installation d’Iptable</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt-get<span class="w"> </span>update
sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>iptables-persistent
</pre></div>
</div>
</li>
<li><p>Ajout du fichier « rules.v4 » au group de l’utilisateur</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>chgrp<span class="w"> </span>pi<span class="w"> </span>/etc/iptables/rules.v*
sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">664</span><span class="w"> </span>/etc/iptables/rules.v*
</pre></div>
</div>
</li>
<li><p>Création d’une table persistante</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>iptables<span class="w"> </span>-t<span class="w"> </span>nat<span class="w"> </span>-A<span class="w"> </span>POSTROUTING<span class="w"> </span>-o<span class="w"> </span>wlan0<span class="w"> </span>-j<span class="w"> </span>MASQUERADE
sudo<span class="w"> </span>iptables-save<span class="w"> </span>&gt;/etc/iptables/rules.v4
</pre></div>
</div>
</li>
</ol>
</div></blockquote>
</section>
</section>
<hr class="docutils" />
<section id="serveur-dhcp">
<h2><a class="toc-backref" href="#sommaire" role="doc-backlink">Serveur DHCP</a><a class="headerlink" href="#serveur-dhcp" title="Lien permanent vers cette rubrique">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Liens_Web<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://raspberrytips.com/dhcp-server-on-raspberry-pi/">How to Use Raspberry Pi as a DHCP Server</a> <a class="footnote-reference brackets" href="#id5" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a></p></li>
</ul>
</dd>
</dl>
<blockquote>
<div><ol class="arabic">
<li><p>Installation de dnsmasq</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>dnsmasq
</pre></div>
</div>
</li>
<li><p>Editer le fichier de configuration de dnsmasq</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>vim<span class="w"> </span>dnsmasq.conf
</pre></div>
</div>
</li>
<li><p>Ajouter la configuration du DHCP en fin de fichier</p>
<div class="admonition warning">
<p class="admonition-title">Avertissement</p>
<p>Vérifier que les options et exemples déjà renseignés ne sont pas en conflit avec les
informations ajoutées.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># TP : 220814</span>
<span class="c1"># Configuration manuelle du DHCP</span>
<span class="n">interface</span><span class="o">=</span><span class="n">eth0</span>
<span class="n">bind</span><span class="o">-</span><span class="n">dynamic</span>
<span class="n">domain</span><span class="o">-</span><span class="n">needed</span>
<span class="n">bogus</span><span class="o">-</span><span class="n">priv</span>
<span class="n">dhcp</span><span class="o">-</span><span class="nb">range</span><span class="o">=</span><span class="mf">192.168.1.50</span><span class="p">,</span><span class="mf">192.168.1.80</span><span class="p">,</span><span class="mf">255.255.255.0</span><span class="p">,</span><span class="mi">12</span><span class="n">h</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../../../_images/dnsmasq.png"><img alt="../../../../_images/dnsmasq.png" class="align-center" src="../../../../_images/dnsmasq.png" style="width: 520px;" /></a>
</li>
<li><p>Redémarrer le service dnsmasq</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>service<span class="w"> </span>dnsmasq<span class="w"> </span>restart
</pre></div>
</div>
</li>
</ol>
</div></blockquote>
</section>
<hr class="docutils" />
<section id="webmin">
<h2><a class="toc-backref" href="#sommaire" role="doc-backlink">Webmin</a><a class="headerlink" href="#webmin" title="Lien permanent vers cette rubrique">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Liens_Web<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://raspberrytips.com/install-webmin-raspberry-pi/">Install Webmin</a> <a class="footnote-reference brackets" href="#id7" id="id8" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a></p></li>
</ul>
</dd>
</dl>
<blockquote>
<div><ol class="arabic">
<li><p>Editer le fichier source.list</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>vim<span class="w"> </span>/etc/apt/sources.list
</pre></div>
</div>
</li>
<li><p>Ajouter le dépôt à la fin du fichier</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>deb<span class="w"> </span>https://download.webmin.com/download/repository<span class="w"> </span>sarge<span class="w"> </span>contrib
</pre></div>
</div>
</li>
<li><p>Installation de la clef GPG</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>wget<span class="w"> </span>http://www.webmin.com/jcameron-key.asc
sudo<span class="w"> </span>apt-key<span class="w"> </span>add<span class="w"> </span>jcameron-key.asc
</pre></div>
</div>
</li>
<li><p>Installation de webmin</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>update
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>webmin
</pre></div>
</div>
</li>
<li><p>Accéder à webmin depuis une page web</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>https://IP_ADDRESS:10000
</pre></div>
</div>
<ul class="simple">
<li><p>Le port part défaut est le TCP 10000</p></li>
<li><p>Les identifiants sont les identifiants de l’utilisateurs sur le Pi</p></li>
</ul>
</li>
</ol>
</div></blockquote>
</section>
<hr class="docutils" />
<section id="serveur-d-impression">
<h2><a class="toc-backref" href="#sommaire" role="doc-backlink">Serveur d’impression</a><a class="headerlink" href="#serveur-d-impression" title="Lien permanent vers cette rubrique">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Liens_Web<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://raspberrytips.fr/installer-imprimante-raspberry-pi/">Comment Installer une Imprimante sur Raspberry Pi (CUPS)</a> <a class="footnote-reference brackets" href="#id9" id="id10" role="doc-noteref"><span class="fn-bracket">[</span>5<span class="fn-bracket">]</span></a></p></li>
</ul>
</dd>
</dl>
<p>Ici aucune dificulté. Il suffit de suivre un tuto installation et de configuration de CUPS.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Pour accéder au serveur d&#39;impression en local depuis un navigateur WEB</span>
<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">631</span>

<span class="c1"># Pour accéder au serveur d&#39;impression depuis autre poste du réseau</span>
<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="p">[</span><span class="n">IP</span> <span class="n">du</span> <span class="n">serveur</span> <span class="n">d</span><span class="s1">&#39;impression]:631</span>
</pre></div>
</div>
</div></blockquote>
</section>
<hr class="docutils" />
<section id="weblinks">
<h2><a class="toc-backref" href="#sommaire" role="doc-backlink">Weblinks</a><a class="headerlink" href="#weblinks" title="Lien permanent vers cette rubrique">¶</a></h2>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id1" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://pimylifeup.com/setting-up-raspberry-pi-wifi/">https://pimylifeup.com/setting-up-raspberry-pi-wifi/</a></p>
</aside>
<aside class="footnote brackets" id="id3" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">2</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://forums.raspberrypi.com/viewtopic.php?t=247584">https://forums.raspberrypi.com/viewtopic.php?t=247584</a></p>
</aside>
<aside class="footnote brackets" id="id5" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id6">3</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://raspberrytips.com/dhcp-server-on-raspberry-pi/">https://raspberrytips.com/dhcp-server-on-raspberry-pi/</a></p>
</aside>
<aside class="footnote brackets" id="id7" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id8">4</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://raspberrytips.com/install-webmin-raspberry-pi/">https://raspberrytips.com/install-webmin-raspberry-pi/</a></p>
</aside>
<aside class="footnote brackets" id="id9" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id10">5</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://raspberrytips.fr/installer-imprimante-raspberry-pi/">https://raspberrytips.fr/installer-imprimante-raspberry-pi/</a></p>
</aside>
</aside>
</section>
</section>

</main>
                        <nav aria-label="Page navigation" class="py-4 my-5 clearfix font-weight-bold border-top">
    <a class="float-left" href="../../Raspberry.html" title="Previous">
        <span aria-hidden="true">←&nbsp;</span>Raspberry
    </a>
    <a class="float-right" href="../../../bugError/bugError.html" title="Next">
        Bug, Maintenance et traitemant des Erreurs <span aria-hidden="true">&nbsp;→</span>
    </a>
</nav>
                    </div>
                    
                    <nav class="col-12 col-lg-3 pb-4">
                        <div class="sticky-top toc page-toc" aria-labelledby="page-toc-heading">
                            <p class="font-weight-bold" id="page-toc-heading">Page contents</p>
                            <ul>
<li><a class="reference internal" href="#">Raspberry Pi as a router</a><ul>
<li><a class="reference internal" href="#objectif">Objectif</a><ul>
<li><a class="reference internal" href="#schema">Schéma</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration-des-points-d-acces-wifi">Configuration des points d’accès wifi</a><ul>
<li><a class="reference internal" href="#configuration-a-l-aide-de-l-outil-raspi-config">Configuration à l’aide de l’outil <strong>« Raspi-config »</strong></a></li>
<li><a class="reference internal" href="#configuration-manuelle">Configuration manuelle</a></li>
</ul>
</li>
<li><a class="reference internal" href="#routeur">Routeur</a><ul>
<li><a class="reference internal" href="#configuration-d-une-ip-statique-sur-eth0">Configuration d’une IP statique sur eth0</a></li>
</ul>
</li>
<li><a class="reference internal" href="#serveur-dhcp">Serveur DHCP</a></li>
<li><a class="reference internal" href="#webmin">Webmin</a></li>
<li><a class="reference internal" href="#serveur-d-impression">Serveur d’impression</a></li>
<li><a class="reference internal" href="#weblinks">Weblinks</a></li>
</ul>
</li>
</ul>

                        </div>
                    </nav>
                    
                </div>
            </div>
        </div>
    </div>
    <footer class="container-fluid bg-primary text-light">
        <div class="container">
            <div class="row">
        <div class="col p-4">
            
            <div class="text-center">
                <p style="display: none">
                    <a class="text-light" href="https://github.com/ahdcreative/sphinx_ahd_theme" rel="nofollow" target="_blank">
                        AHDCreative Sphinx Theme 5.3.8
                    </a>
                </p>
            </div>
            <div class="text-center">
                    &copy; Copyright 2017, Poltergeist42
            </div>
        </div>
    </div>
        </div>
    </footer>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/sphinx_highlight.js"></script>
        <script src="../../../../_static/translations.js"></script>
        <script type="text/javascript" src="../../../../_static/dist/theme.js"></script>
        <script type="text/javascript" src="../../../../_static/dist/vendor.js"></script>
        <script type="text/javascript" src="../../../../_static/searchtools.js"></script>
        <script type="text/javascript" src="../../../../_static/language_data.js"></script>
        <script type="text/javascript">
            jQuery(function() { Search.loadIndex("../../../../searchindex.js"); });
        </script>
        <script type="text/javascript" id="searchindexloader"></script>
    </body>
</html>